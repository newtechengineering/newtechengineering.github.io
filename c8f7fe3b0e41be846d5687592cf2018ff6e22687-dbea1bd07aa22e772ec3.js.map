{"version":3,"sources":["webpack:///./node_modules/process/browser.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@firebase/app/dist/index.cjs.js","webpack:///./node_modules/@firebase/util/dist/index.cjs.js"],"names":["cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","this","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","_extendStatics","d","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__extends","__","constructor","create","_assign","assign","t","s","n","__rest","indexOf","getOwnPropertySymbols","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","__exportStar","m","__values","o","__read","ar","error","__spread","__await","__asyncGenerator","asyncIterator","q","a","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","k","__importDefault","_a","tslib_1","util","ERRORS","appErrors","ErrorFactory","code","tokenListeners","FirebaseAppImpl","options","config","firebase_","isDeleted_","services_","name_","automaticDataCollectionEnabled_","automaticDataCollectionEnabled","options_","deepCopy","INTERNAL","getUid","getToken","addAuthTokenListener","callback","removeAuthTokenListener","filter","listener","get","checkDestroyed_","set","val","enumerable","configurable","_this","removeApp","services","_i","keys","serviceKey","_b","_c","instanceKey","all","map","service","_getService","instanceIdentifier","instanceSpecifier","undefined","factories","extendApp","bind","props","deepExtend","forEach","contains","obj","console","log","isNode","toString","global","warn","self","sdkVersion","firebase","SDK_VERSION","createFirebaseNamespace","namespace","firebaseAppImpl","apps","appHooks","initializeApp","rawConfig","String","app","callAppHooks","registerService","createService","serviceProperties","appHook","allowMultipleInstances","getApps","serviceNamespace","appArg","serviceFxn","useAsService","eventName","factoryName","useService","patchProperty","createFirebaseNamespaceCore","__assign","extendNamespace","createSubscribe","CONSTANTS","NODE_CLIENT","NODE_ADMIN","assert","assertion","message","assertionError","stringToByteArray","str","out","charCodeAt","base64","byteToCharMap_","charToByteMap_","byteToCharMapWebSafe_","charToByteMapWebSafe_","ENCODED_VALS_BASE","HAS_NATIVE_SUPPORT","atob","encodeByteArray","input","opt_webSafe","isArray","init_","byteToCharMap","output","byte1","haveByte2","byte2","haveByte3","byte3","outByte1","outByte2","outByte3","outByte4","join","encodeString","btoa","decodeString","bytes","pos","c1","fromCharCode","c2","u","c3","byteArrayToString","decodeStringToByteArray","charToByteMap","charAt","byte4","ENCODED_VALS","ENCODED_VALS_WEBSAFE","base64Decode","source","Date","getTime","prop","Deferred","promise","wrapCallback","getUA","navigator","FirebaseError","_super","captureStackTrace","serviceName","errors","data","fullCode","template","replace","PATTERN","replaceTemplate","fullMessage","slice","jsonEval","JSON","parse","decode","token","header","claims","signature","parts","split","fn","extend","objTo","objFrom","findKey","opt_this","Sha1","chain_","buf_","W_","pad_","inbuf_","total_","blockSize","reset","compress_","buf","opt_offset","W","update","opt_length","lengthMinusBlock","inbuf","digest","totalBits","j","ObserverProxy","executor","onNoObservers","observers","unsubscribes","observerCount","task","finalized","forEachObserver","observer","close","complete","subscribe","nextOrObserver","methods","methods_1","method","implementsAnyMethods","unsub","unsubscribeOne","finalError","sendOne","err","errorPrefix","fnName","argumentNumber","optional","argName","async","onError","base64Encode","utf8Bytes","clone","proxy","every","findValue","getAnyKey","getCount","rv","getValues","res","isAdmin","isEmpty","isMobileCordova","window","test","isNodeSdk","isNonNullObject","isReactNative","isValidFormat","isValidTimestamp","validSince","validUntil","now","Math","floor","issuedAtTime","opt_obj","querystring","querystringParams","params","arrayVal","encodeURIComponent","querystringDecode","safeGet","stringLength","high","stringify","validateArgCount","minCount","maxCount","argCount","argError","validateCallback","validateContextObject","context","validateNamespace"],"mappings":"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","file":"c8f7fe3b0e41be846d5687592cf2018ff6e22687-dbea1bd07aa22e772ec3.js","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\n\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n\n(function () {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\n\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  } // if setTimeout wasn't available but was latter defined\n\n\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\n\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  } // if clearTimeout wasn't available but was latter defined\n\n\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\n\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n\n  draining = false;\n\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n\n  if (queue.length) {\n    drainQueue();\n  }\n}\n\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n\n    queueIndex = -1;\n    len = queue.length;\n  }\n\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n  var args = new Array(arguments.length - 1);\n\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n\n  queue.push(new Item(fun, args));\n\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n}; // v8 likes predictible objects\n\n\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\n\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) {\n  return [];\n};\n\nprocess.binding = function (name) {\n  throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () {\n  return '/';\n};\n\nprocess.chdir = function (dir) {\n  throw new Error('process.chdir is not supported');\n};\n\nprocess.umask = function () {\n  return 0;\n};","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nexport { _assign as __assign };\nexport function __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport function __exportStar(m, exports) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\nexport function __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n}","'use strict';\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar tslib_1 = require('tslib');\n\nvar util = require('@firebase/util');\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar _a;\n\nvar ERRORS = (_a = {}, _a[\"no-app\"\n/* NO_APP */\n] = \"No Firebase App '{$name}' has been created - \" + 'call Firebase App.initializeApp()', _a[\"bad-app-name\"\n/* BAD_APP_NAME */\n] = \"Illegal App name: '{$name}\", _a[\"duplicate-app\"\n/* DUPLICATE_APP */\n] = \"Firebase App named '{$name}' already exists\", _a[\"app-deleted\"\n/* APP_DELETED */\n] = \"Firebase App named '{$name}' already deleted\", _a[\"duplicate-service\"\n/* DUPLICATE_SERVICE */\n] = \"Firebase service named '{$name}' already registered\", _a[\"invalid-app-argument\"\n/* INVALID_APP_ARGUMENT */\n] = 'firebase.{$name}() takes either no argument or a ' + 'Firebase App instance.', _a);\nvar appErrors = new util.ErrorFactory('app', 'Firebase', ERRORS);\n\nfunction error(code, args) {\n  throw appErrors.create(code, args);\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar DEFAULT_ENTRY_NAME = '[DEFAULT]';\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n// An array to capture listeners before the true auth functions\n// exist\n\nvar tokenListeners = [];\n/**\r\n * Global context object for a collection of services using\r\n * a shared authentication state.\r\n */\n\nvar FirebaseAppImpl =\n/** @class */\nfunction () {\n  function FirebaseAppImpl(options, config, firebase_) {\n    this.firebase_ = firebase_;\n    this.isDeleted_ = false;\n    this.services_ = {};\n    this.name_ = config.name;\n    this.automaticDataCollectionEnabled_ = config.automaticDataCollectionEnabled || false;\n    this.options_ = util.deepCopy(options);\n    this.INTERNAL = {\n      getUid: function getUid() {\n        return null;\n      },\n      getToken: function getToken() {\n        return Promise.resolve(null);\n      },\n      addAuthTokenListener: function addAuthTokenListener(callback) {\n        tokenListeners.push(callback); // Make sure callback is called, asynchronously, in the absence of the auth module\n\n        setTimeout(function () {\n          return callback(null);\n        }, 0);\n      },\n      removeAuthTokenListener: function removeAuthTokenListener(callback) {\n        tokenListeners = tokenListeners.filter(function (listener) {\n          return listener !== callback;\n        });\n      }\n    };\n  }\n\n  Object.defineProperty(FirebaseAppImpl.prototype, \"automaticDataCollectionEnabled\", {\n    get: function get() {\n      this.checkDestroyed_();\n      return this.automaticDataCollectionEnabled_;\n    },\n    set: function set(val) {\n      this.checkDestroyed_();\n      this.automaticDataCollectionEnabled_ = val;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FirebaseAppImpl.prototype, \"name\", {\n    get: function get() {\n      this.checkDestroyed_();\n      return this.name_;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FirebaseAppImpl.prototype, \"options\", {\n    get: function get() {\n      this.checkDestroyed_();\n      return this.options_;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  FirebaseAppImpl.prototype[\"delete\"] = function () {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      _this.checkDestroyed_();\n\n      resolve();\n    }).then(function () {\n      _this.firebase_.INTERNAL.removeApp(_this.name_);\n\n      var services = [];\n\n      for (var _i = 0, _a = Object.keys(_this.services_); _i < _a.length; _i++) {\n        var serviceKey = _a[_i];\n\n        for (var _b = 0, _c = Object.keys(_this.services_[serviceKey]); _b < _c.length; _b++) {\n          var instanceKey = _c[_b];\n          services.push(_this.services_[serviceKey][instanceKey]);\n        }\n      }\n\n      return Promise.all(services.map(function (service) {\n        return service.INTERNAL[\"delete\"]();\n      }));\n    }).then(function () {\n      _this.isDeleted_ = true;\n      _this.services_ = {};\n    });\n  };\n  /**\r\n   * Return a service instance associated with this app (creating it\r\n   * on demand), identified by the passed instanceIdentifier.\r\n   *\r\n   * NOTE: Currently storage is the only one that is leveraging this\r\n   * functionality. They invoke it by calling:\r\n   *\r\n   * ```javascript\r\n   * firebase.app().storage('STORAGE BUCKET ID')\r\n   * ```\r\n   *\r\n   * The service name is passed to this already\r\n   * @internal\r\n   */\n\n\n  FirebaseAppImpl.prototype._getService = function (name, instanceIdentifier) {\n    if (instanceIdentifier === void 0) {\n      instanceIdentifier = DEFAULT_ENTRY_NAME;\n    }\n\n    this.checkDestroyed_();\n\n    if (!this.services_[name]) {\n      this.services_[name] = {};\n    }\n\n    if (!this.services_[name][instanceIdentifier]) {\n      /**\r\n       * If a custom instance has been defined (i.e. not '[DEFAULT]')\r\n       * then we will pass that instance on, otherwise we pass `null`\r\n       */\n      var instanceSpecifier = instanceIdentifier !== DEFAULT_ENTRY_NAME ? instanceIdentifier : undefined;\n      var service = this.firebase_.INTERNAL.factories[name](this, this.extendApp.bind(this), instanceSpecifier);\n      this.services_[name][instanceIdentifier] = service;\n    }\n\n    return this.services_[name][instanceIdentifier];\n  };\n  /**\r\n   * Callback function used to extend an App instance at the time\r\n   * of service instance creation.\r\n   */\n\n\n  FirebaseAppImpl.prototype.extendApp = function (props) {\n    var _this = this; // Copy the object onto the FirebaseAppImpl prototype\n\n\n    util.deepExtend(this, props);\n    /**\r\n     * If the app has overwritten the addAuthTokenListener stub, forward\r\n     * the active token listeners on to the true fxn.\r\n     *\r\n     * TODO: This function is required due to our current module\r\n     * structure. Once we are able to rely strictly upon a single module\r\n     * implementation, this code should be refactored and Auth should\r\n     * provide these stubs and the upgrade logic\r\n     */\n\n    if (props.INTERNAL && props.INTERNAL.addAuthTokenListener) {\n      tokenListeners.forEach(function (listener) {\n        _this.INTERNAL.addAuthTokenListener(listener);\n      });\n      tokenListeners = [];\n    }\n  };\n  /**\r\n   * This function will throw an Error if the App has already been deleted -\r\n   * use before performing API actions on the App.\r\n   */\n\n\n  FirebaseAppImpl.prototype.checkDestroyed_ = function () {\n    if (this.isDeleted_) {\n      error(\"app-deleted\"\n      /* APP_DELETED */\n      , {\n        name: this.name_\n      });\n    }\n  };\n\n  return FirebaseAppImpl;\n}(); // Prevent dead-code elimination of these methods w/o invalid property\n// copying.\n\n\nFirebaseAppImpl.prototype.name && FirebaseAppImpl.prototype.options || FirebaseAppImpl.prototype[\"delete\"] || console.log('dc');\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nfunction contains(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n/**\r\n * Because auth can't share code with other components, we attach the utility functions\r\n * in an internal namespace to share code.\r\n * This function return a firebase namespace object without\r\n * any utility functions, so it can be shared between the regular firebaseNamespace and\r\n * the lite version.\r\n */\n\n\nfunction createFirebaseNamespaceCore(firebaseAppImpl) {\n  var apps = {};\n  var factories = {};\n  var appHooks = {}; // A namespace is a plain JavaScript Object.\n\n  var namespace = {\n    // Hack to prevent Babel from modifying the object returned\n    // as the firebase namespace.\n    // @ts-ignore\n    __esModule: true,\n    initializeApp: initializeApp,\n    app: app,\n    apps: null,\n    Promise: Promise,\n    SDK_VERSION: '5.11.0',\n    INTERNAL: {\n      registerService: registerService,\n      removeApp: removeApp,\n      factories: factories,\n      useAsService: useAsService\n    }\n  }; // Inject a circular default export to allow Babel users who were previously\n  // using:\n  //\n  //   import firebase from 'firebase';\n  //   which becomes: var firebase = require('firebase').default;\n  //\n  // instead of\n  //\n  //   import * as firebase from 'firebase';\n  //   which becomes: var firebase = require('firebase');\n\n  util.patchProperty(namespace, 'default', namespace); // firebase.apps is a read-only getter.\n\n  Object.defineProperty(namespace, 'apps', {\n    get: getApps\n  });\n  /**\r\n   * Called by App.delete() - but before any services associated with the App\r\n   * are deleted.\r\n   */\n\n  function removeApp(name) {\n    var app = apps[name];\n    callAppHooks(app, 'delete');\n    delete apps[name];\n  }\n  /**\r\n   * Get the App object for a given name (or DEFAULT).\r\n   */\n\n\n  function app(name) {\n    name = name || DEFAULT_ENTRY_NAME;\n\n    if (!contains(apps, name)) {\n      error(\"no-app\"\n      /* NO_APP */\n      , {\n        name: name\n      });\n    }\n\n    return apps[name];\n  }\n\n  util.patchProperty(app, 'App', firebaseAppImpl);\n\n  function initializeApp(options, rawConfig) {\n    if (rawConfig === void 0) {\n      rawConfig = {};\n    }\n\n    if (typeof rawConfig !== 'object' || rawConfig === null) {\n      var name_1 = rawConfig;\n      rawConfig = {\n        name: name_1\n      };\n    }\n\n    var config = rawConfig;\n\n    if (config.name === undefined) {\n      config.name = DEFAULT_ENTRY_NAME;\n    }\n\n    var name = config.name;\n\n    if (typeof name !== 'string' || !name) {\n      error(\"bad-app-name\"\n      /* BAD_APP_NAME */\n      , {\n        name: String(name)\n      });\n    }\n\n    if (contains(apps, name)) {\n      error(\"duplicate-app\"\n      /* DUPLICATE_APP */\n      , {\n        name: name\n      });\n    }\n\n    var app = new firebaseAppImpl(options, config, namespace);\n    apps[name] = app;\n    callAppHooks(app, 'create');\n    return app;\n  }\n  /*\r\n   * Return an array of all the non-deleted FirebaseApps.\r\n   */\n\n\n  function getApps() {\n    // Make a copy so caller cannot mutate the apps list.\n    return Object.keys(apps).map(function (name) {\n      return apps[name];\n    });\n  }\n  /*\r\n   * Register a Firebase Service.\r\n   *\r\n   * firebase.INTERNAL.registerService()\r\n   *\r\n   * TODO: Implement serviceProperties.\r\n   */\n\n\n  function registerService(name, createService, serviceProperties, appHook, allowMultipleInstances) {\n    if (allowMultipleInstances === void 0) {\n      allowMultipleInstances = false;\n    } // Cannot re-register a service that already exists\n\n\n    if (factories[name]) {\n      error(\"duplicate-service\"\n      /* DUPLICATE_SERVICE */\n      , {\n        name: name\n      });\n    } // Capture the service factory for later service instantiation\n\n\n    factories[name] = createService; // Capture the appHook, if passed\n\n    if (appHook) {\n      appHooks[name] = appHook; // Run the **new** app hook on all existing apps\n\n      getApps().forEach(function (app) {\n        appHook('create', app);\n      });\n    } // The Service namespace is an accessor function ...\n\n\n    function serviceNamespace(appArg) {\n      if (appArg === void 0) {\n        appArg = app();\n      }\n\n      if (typeof appArg[name] !== 'function') {\n        // Invalid argument.\n        // This happens in the following case: firebase.storage('gs:/')\n        error(\"invalid-app-argument\"\n        /* INVALID_APP_ARGUMENT */\n        , {\n          name: name\n        });\n      } // Forward service instance lookup to the FirebaseApp.\n\n\n      return appArg[name]();\n    } // ... and a container for service-level properties.\n\n\n    if (serviceProperties !== undefined) {\n      util.deepExtend(serviceNamespace, serviceProperties);\n    } // Monkey-patch the serviceNamespace onto the firebase namespace\n\n\n    namespace[name] = serviceNamespace; // Patch the FirebaseAppImpl prototype\n\n    firebaseAppImpl.prototype[name] = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      var serviceFxn = this._getService.bind(this, name);\n\n      return serviceFxn.apply(this, allowMultipleInstances ? args : []);\n    };\n\n    return serviceNamespace;\n  }\n\n  function callAppHooks(app, eventName) {\n    for (var _i = 0, _a = Object.keys(factories); _i < _a.length; _i++) {\n      var serviceName = _a[_i]; // Ignore virtual services\n\n      var factoryName = useAsService(app, serviceName);\n\n      if (factoryName === null) {\n        return;\n      }\n\n      if (appHooks[factoryName]) {\n        appHooks[factoryName](eventName, app);\n      }\n    }\n  } // Map the requested service to a registered service name\n  // (used to map auth to serverAuth service when needed).\n\n\n  function useAsService(app, name) {\n    if (name === 'serverAuth') {\n      return null;\n    }\n\n    var useService = name;\n    var options = app.options;\n    return useService;\n  }\n\n  return namespace;\n}\n/**\r\n * @license\r\n * Copyright 2019 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Return a firebase namespace object.\r\n *\r\n * In production, this will be called exactly once and the result\r\n * assigned to the 'firebase' global.  It may be called multiple times\r\n * in unit tests.\r\n */\n\n\nfunction createFirebaseNamespace() {\n  var namespace = createFirebaseNamespaceCore(FirebaseAppImpl);\n  namespace.INTERNAL = tslib_1.__assign({}, namespace.INTERNAL, {\n    createFirebaseNamespace: createFirebaseNamespace,\n    extendNamespace: extendNamespace,\n    createSubscribe: util.createSubscribe,\n    ErrorFactory: util.ErrorFactory,\n    deepExtend: util.deepExtend\n  });\n  /**\r\n   * Patch the top-level firebase namespace with additional properties.\r\n   *\r\n   * firebase.INTERNAL.extendNamespace()\r\n   */\n\n  function extendNamespace(props) {\n    util.deepExtend(namespace, props);\n  }\n\n  return namespace;\n}\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n// Node detection logic from: https://github.com/iliakan/detect-node/\n\n\nvar isNode = false;\n\ntry {\n  isNode = Object.prototype.toString.call(global.process) === '[object process]';\n} catch (e) {}\n\nisNode && console.warn(\"\\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\\nrun in a Node environment.  If running in a Node environment, make sure you\\nare using the bundle specified by the \\\"main\\\" field in package.json.\\n\\nIf you are using Webpack, you can specify \\\"main\\\" as the first item in\\n\\\"resolve.mainFields\\\":\\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\\n\\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set \\\"module\\\"\\nto false and \\\"main\\\" to true:\\nhttps://github.com/rollup/rollup-plugin-node-resolve\\n\"); // Firebase Lite detection\n\nif (self && 'firebase' in self) {\n  console.warn(\"\\n    Warning: Firebase is already defined in the global scope. Please make sure\\n    Firebase library is only loaded once.\\n  \");\n  var sdkVersion = self.firebase.SDK_VERSION;\n\n  if (sdkVersion && sdkVersion.indexOf('LITE') >= 0) {\n    console.warn(\"\\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\\n    \");\n  }\n}\n\nvar firebase = createFirebaseNamespace();\nexports[\"default\"] = firebase;\nexports.firebase = firebase;","'use strict';\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar tslib_1 = require('tslib');\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * @fileoverview Firebase constants.  Some of these (@defines) can be overridden at compile-time.\r\n */\n\n\nvar CONSTANTS = {\n  /**\r\n   * @define {boolean} Whether this is the client Node.js SDK.\r\n   */\n  NODE_CLIENT: false,\n\n  /**\r\n   * @define {boolean} Whether this is the Admin Node.js SDK.\r\n   */\n  NODE_ADMIN: false,\n\n  /**\r\n   * Firebase SDK Version\r\n   */\n  SDK_VERSION: '${JSCORE_VERSION}'\n};\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Throws an error if the provided assertion is falsy\r\n * @param {*} assertion The assertion to be tested for falsiness\r\n * @param {!string} message The message to display if the check fails\r\n */\n\nvar assert = function assert(assertion, message) {\n  if (!assertion) {\n    throw assertionError(message);\n  }\n};\n/**\r\n * Returns an Error object suitable for throwing.\r\n * @param {string} message\r\n * @return {!Error}\r\n */\n\n\nvar assertionError = function assertionError(message) {\n  return new Error('Firebase Database (' + CONSTANTS.SDK_VERSION + ') INTERNAL ASSERT FAILED: ' + message);\n};\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar stringToByteArray = function stringToByteArray(str) {\n  // TODO(user): Use native implementations if/when available\n  var out = [],\n      p = 0;\n\n  for (var i = 0; i < str.length; i++) {\n    var c = str.charCodeAt(i);\n\n    if (c < 128) {\n      out[p++] = c;\n    } else if (c < 2048) {\n      out[p++] = c >> 6 | 192;\n      out[p++] = c & 63 | 128;\n    } else if ((c & 0xfc00) == 0xd800 && i + 1 < str.length && (str.charCodeAt(i + 1) & 0xfc00) == 0xdc00) {\n      // Surrogate Pair\n      c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);\n      out[p++] = c >> 18 | 240;\n      out[p++] = c >> 12 & 63 | 128;\n      out[p++] = c >> 6 & 63 | 128;\n      out[p++] = c & 63 | 128;\n    } else {\n      out[p++] = c >> 12 | 224;\n      out[p++] = c >> 6 & 63 | 128;\n      out[p++] = c & 63 | 128;\n    }\n  }\n\n  return out;\n};\n/**\r\n * Turns an array of numbers into the string given by the concatenation of the\r\n * characters to which the numbers correspond.\r\n * @param {Array<number>} bytes Array of numbers representing characters.\r\n * @return {string} Stringification of the array.\r\n */\n\n\nvar byteArrayToString = function byteArrayToString(bytes) {\n  // TODO(user): Use native implementations if/when available\n  var out = [],\n      pos = 0,\n      c = 0;\n\n  while (pos < bytes.length) {\n    var c1 = bytes[pos++];\n\n    if (c1 < 128) {\n      out[c++] = String.fromCharCode(c1);\n    } else if (c1 > 191 && c1 < 224) {\n      var c2 = bytes[pos++];\n      out[c++] = String.fromCharCode((c1 & 31) << 6 | c2 & 63);\n    } else if (c1 > 239 && c1 < 365) {\n      // Surrogate Pair\n      var c2 = bytes[pos++];\n      var c3 = bytes[pos++];\n      var c4 = bytes[pos++];\n      var u = ((c1 & 7) << 18 | (c2 & 63) << 12 | (c3 & 63) << 6 | c4 & 63) - 0x10000;\n      out[c++] = String.fromCharCode(0xd800 + (u >> 10));\n      out[c++] = String.fromCharCode(0xdc00 + (u & 1023));\n    } else {\n      var c2 = bytes[pos++];\n      var c3 = bytes[pos++];\n      out[c++] = String.fromCharCode((c1 & 15) << 12 | (c2 & 63) << 6 | c3 & 63);\n    }\n  }\n\n  return out.join('');\n}; // Static lookup maps, lazily populated by init_()\n\n\nvar base64 = {\n  /**\r\n   * Maps bytes to characters.\r\n   * @type {Object}\r\n   * @private\r\n   */\n  byteToCharMap_: null,\n\n  /**\r\n   * Maps characters to bytes.\r\n   * @type {Object}\r\n   * @private\r\n   */\n  charToByteMap_: null,\n\n  /**\r\n   * Maps bytes to websafe characters.\r\n   * @type {Object}\r\n   * @private\r\n   */\n  byteToCharMapWebSafe_: null,\n\n  /**\r\n   * Maps websafe characters to bytes.\r\n   * @type {Object}\r\n   * @private\r\n   */\n  charToByteMapWebSafe_: null,\n\n  /**\r\n   * Our default alphabet, shared between\r\n   * ENCODED_VALS and ENCODED_VALS_WEBSAFE\r\n   * @type {string}\r\n   */\n  ENCODED_VALS_BASE: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz' + '0123456789',\n\n  /**\r\n   * Our default alphabet. Value 64 (=) is special; it means \"nothing.\"\r\n   * @type {string}\r\n   */\n  get ENCODED_VALS() {\n    return this.ENCODED_VALS_BASE + '+/=';\n  },\n\n  /**\r\n   * Our websafe alphabet.\r\n   * @type {string}\r\n   */\n  get ENCODED_VALS_WEBSAFE() {\n    return this.ENCODED_VALS_BASE + '-_.';\n  },\n\n  /**\r\n   * Whether this browser supports the atob and btoa functions. This extension\r\n   * started at Mozilla but is now implemented by many browsers. We use the\r\n   * ASSUME_* variables to avoid pulling in the full useragent detection library\r\n   * but still allowing the standard per-browser compilations.\r\n   *\r\n   * @type {boolean}\r\n   */\n  HAS_NATIVE_SUPPORT: typeof atob === 'function',\n\n  /**\r\n   * Base64-encode an array of bytes.\r\n   *\r\n   * @param {Array<number>|Uint8Array} input An array of bytes (numbers with\r\n   *     value in [0, 255]) to encode.\r\n   * @param {boolean=} opt_webSafe Boolean indicating we should use the\r\n   *     alternative alphabet.\r\n   * @return {string} The base64 encoded string.\r\n   */\n  encodeByteArray: function encodeByteArray(input, opt_webSafe) {\n    if (!Array.isArray(input)) {\n      throw Error('encodeByteArray takes an array as a parameter');\n    }\n\n    this.init_();\n    var byteToCharMap = opt_webSafe ? this.byteToCharMapWebSafe_ : this.byteToCharMap_;\n    var output = [];\n\n    for (var i = 0; i < input.length; i += 3) {\n      var byte1 = input[i];\n      var haveByte2 = i + 1 < input.length;\n      var byte2 = haveByte2 ? input[i + 1] : 0;\n      var haveByte3 = i + 2 < input.length;\n      var byte3 = haveByte3 ? input[i + 2] : 0;\n      var outByte1 = byte1 >> 2;\n      var outByte2 = (byte1 & 0x03) << 4 | byte2 >> 4;\n      var outByte3 = (byte2 & 0x0f) << 2 | byte3 >> 6;\n      var outByte4 = byte3 & 0x3f;\n\n      if (!haveByte3) {\n        outByte4 = 64;\n\n        if (!haveByte2) {\n          outByte3 = 64;\n        }\n      }\n\n      output.push(byteToCharMap[outByte1], byteToCharMap[outByte2], byteToCharMap[outByte3], byteToCharMap[outByte4]);\n    }\n\n    return output.join('');\n  },\n\n  /**\r\n   * Base64-encode a string.\r\n   *\r\n   * @param {string} input A string to encode.\r\n   * @param {boolean=} opt_webSafe If true, we should use the\r\n   *     alternative alphabet.\r\n   * @return {string} The base64 encoded string.\r\n   */\n  encodeString: function encodeString(input, opt_webSafe) {\n    // Shortcut for Mozilla browsers that implement\n    // a native base64 encoder in the form of \"btoa/atob\"\n    if (this.HAS_NATIVE_SUPPORT && !opt_webSafe) {\n      return btoa(input);\n    }\n\n    return this.encodeByteArray(stringToByteArray(input), opt_webSafe);\n  },\n\n  /**\r\n   * Base64-decode a string.\r\n   *\r\n   * @param {string} input to decode.\r\n   * @param {boolean=} opt_webSafe True if we should use the\r\n   *     alternative alphabet.\r\n   * @return {string} string representing the decoded value.\r\n   */\n  decodeString: function decodeString(input, opt_webSafe) {\n    // Shortcut for Mozilla browsers that implement\n    // a native base64 encoder in the form of \"btoa/atob\"\n    if (this.HAS_NATIVE_SUPPORT && !opt_webSafe) {\n      return atob(input);\n    }\n\n    return byteArrayToString(this.decodeStringToByteArray(input, opt_webSafe));\n  },\n\n  /**\r\n   * Base64-decode a string.\r\n   *\r\n   * In base-64 decoding, groups of four characters are converted into three\r\n   * bytes.  If the encoder did not apply padding, the input length may not\r\n   * be a multiple of 4.\r\n   *\r\n   * In this case, the last group will have fewer than 4 characters, and\r\n   * padding will be inferred.  If the group has one or two characters, it decodes\r\n   * to one byte.  If the group has three characters, it decodes to two bytes.\r\n   *\r\n   * @param {string} input Input to decode.\r\n   * @param {boolean=} opt_webSafe True if we should use the web-safe alphabet.\r\n   * @return {!Array<number>} bytes representing the decoded value.\r\n   */\n  decodeStringToByteArray: function decodeStringToByteArray(input, opt_webSafe) {\n    this.init_();\n    var charToByteMap = opt_webSafe ? this.charToByteMapWebSafe_ : this.charToByteMap_;\n    var output = [];\n\n    for (var i = 0; i < input.length;) {\n      var byte1 = charToByteMap[input.charAt(i++)];\n      var haveByte2 = i < input.length;\n      var byte2 = haveByte2 ? charToByteMap[input.charAt(i)] : 0;\n      ++i;\n      var haveByte3 = i < input.length;\n      var byte3 = haveByte3 ? charToByteMap[input.charAt(i)] : 64;\n      ++i;\n      var haveByte4 = i < input.length;\n      var byte4 = haveByte4 ? charToByteMap[input.charAt(i)] : 64;\n      ++i;\n\n      if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {\n        throw Error();\n      }\n\n      var outByte1 = byte1 << 2 | byte2 >> 4;\n      output.push(outByte1);\n\n      if (byte3 != 64) {\n        var outByte2 = byte2 << 4 & 0xf0 | byte3 >> 2;\n        output.push(outByte2);\n\n        if (byte4 != 64) {\n          var outByte3 = byte3 << 6 & 0xc0 | byte4;\n          output.push(outByte3);\n        }\n      }\n    }\n\n    return output;\n  },\n\n  /**\r\n   * Lazy static initialization function. Called before\r\n   * accessing any of the static map variables.\r\n   * @private\r\n   */\n  init_: function init_() {\n    if (!this.byteToCharMap_) {\n      this.byteToCharMap_ = {};\n      this.charToByteMap_ = {};\n      this.byteToCharMapWebSafe_ = {};\n      this.charToByteMapWebSafe_ = {}; // We want quick mappings back and forth, so we precompute two maps.\n\n      for (var i = 0; i < this.ENCODED_VALS.length; i++) {\n        this.byteToCharMap_[i] = this.ENCODED_VALS.charAt(i);\n        this.charToByteMap_[this.byteToCharMap_[i]] = i;\n        this.byteToCharMapWebSafe_[i] = this.ENCODED_VALS_WEBSAFE.charAt(i);\n        this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]] = i; // Be forgiving when decoding and correctly decode both encodings.\n\n        if (i >= this.ENCODED_VALS_BASE.length) {\n          this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)] = i;\n          this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)] = i;\n        }\n      }\n    }\n  }\n};\n/**\r\n * URL-safe base64 encoding\r\n * @param {!string} str\r\n * @return {!string}\r\n */\n\nvar base64Encode = function base64Encode(str) {\n  var utf8Bytes = stringToByteArray(str);\n  return base64.encodeByteArray(utf8Bytes, true);\n};\n/**\r\n * URL-safe base64 decoding\r\n *\r\n * NOTE: DO NOT use the global atob() function - it does NOT support the\r\n * base64Url variant encoding.\r\n *\r\n * @param {string} str To be decoded\r\n * @return {?string} Decoded result, if possible\r\n */\n\n\nvar base64Decode = function base64Decode(str) {\n  try {\n    return base64.decodeString(str, true);\n  } catch (e) {\n    console.error('base64Decode failed: ', e);\n  }\n\n  return null;\n};\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Do a deep-copy of basic JavaScript Objects or Arrays.\r\n */\n\n\nfunction deepCopy(value) {\n  return deepExtend(undefined, value);\n}\n/**\r\n * Copy properties from source to target (recursively allows extension\r\n * of Objects and Arrays).  Scalar values in the target are over-written.\r\n * If target is undefined, an object of the appropriate type will be created\r\n * (and returned).\r\n *\r\n * We recursively copy all child properties of plain Objects in the source- so\r\n * that namespace- like dictionaries are merged.\r\n *\r\n * Note that the target can be a function, in which case the properties in\r\n * the source Object are copied onto it as static properties of the Function.\r\n */\n\n\nfunction deepExtend(target, source) {\n  if (!(source instanceof Object)) {\n    return source;\n  }\n\n  switch (source.constructor) {\n    case Date:\n      // Treat Dates like scalars; if the target date object had any child\n      // properties - they will be lost!\n      var dateValue = source;\n      return new Date(dateValue.getTime());\n\n    case Object:\n      if (target === undefined) {\n        target = {};\n      }\n\n      break;\n\n    case Array:\n      // Always copy the array source and overwrite the target.\n      target = [];\n      break;\n\n    default:\n      // Not a plain Object - treat it as a scalar.\n      return source;\n  }\n\n  for (var prop in source) {\n    if (!source.hasOwnProperty(prop)) {\n      continue;\n    }\n\n    target[prop] = deepExtend(target[prop], source[prop]);\n  }\n\n  return target;\n} // TODO: Really needed (for JSCompiler type checking)?\n\n\nfunction patchProperty(obj, prop, value) {\n  obj[prop] = value;\n}\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar Deferred =\n/** @class */\nfunction () {\n  function Deferred() {\n    var _this = this;\n\n    this.promise = new Promise(function (resolve, reject) {\n      _this.resolve = resolve;\n      _this.reject = reject;\n    });\n  }\n  /**\r\n   * Our API internals are not promiseified and cannot because our callback APIs have subtle expectations around\r\n   * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback\r\n   * and returns a node-style callback which will resolve or reject the Deferred's promise.\r\n   * @param {((?function(?(Error)): (?|undefined))| (?function(?(Error),?=): (?|undefined)))=} callback\r\n   * @return {!function(?(Error), ?=)}\r\n   */\n\n\n  Deferred.prototype.wrapCallback = function (callback) {\n    var _this = this;\n\n    return function (error, value) {\n      if (error) {\n        _this.reject(error);\n      } else {\n        _this.resolve(value);\n      }\n\n      if (typeof callback === 'function') {\n        // Attaching noop handler just in case developer wasn't expecting\n        // promises\n        _this.promise[\"catch\"](function () {}); // Some of our callbacks don't expect a value and our own tests\n        // assert that the parameter length is 1\n\n\n        if (callback.length === 1) {\n          callback(error);\n        } else {\n          callback(error, value);\n        }\n      }\n    };\n  };\n\n  return Deferred;\n}();\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Returns navigator.userAgent string or '' if it's not defined.\r\n * @return {string} user agent string\r\n */\n\n\nvar getUA = function getUA() {\n  if (typeof navigator !== 'undefined' && typeof navigator['userAgent'] === 'string') {\n    return navigator['userAgent'];\n  } else {\n    return '';\n  }\n};\n/**\r\n * Detect Cordova / PhoneGap / Ionic frameworks on a mobile device.\r\n *\r\n * Deliberately does not rely on checking `file://` URLs (as this fails PhoneGap in the Ripple emulator) nor\r\n * Cordova `onDeviceReady`, which would normally wait for a callback.\r\n *\r\n * @return {boolean} isMobileCordova\r\n */\n\n\nvar isMobileCordova = function isMobileCordova() {\n  return typeof window !== 'undefined' && !!(window['cordova'] || window['phonegap'] || window['PhoneGap']) && /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA());\n};\n/**\r\n * Detect React Native.\r\n *\r\n * @return {boolean} True if ReactNative environment is detected.\r\n */\n\n\nvar isReactNative = function isReactNative() {\n  return typeof navigator === 'object' && navigator['product'] === 'ReactNative';\n};\n/**\r\n * Detect Node.js.\r\n *\r\n * @return {boolean} True if Node.js environment is detected.\r\n */\n\n\nvar isNodeSdk = function isNodeSdk() {\n  return CONSTANTS.NODE_CLIENT === true || CONSTANTS.NODE_ADMIN === true;\n};\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar ERROR_NAME = 'FirebaseError'; // Based on code from:\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types\n\nvar FirebaseError =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(FirebaseError, _super);\n\n  function FirebaseError(code, message) {\n    var _this = _super.call(this, message) || this;\n\n    _this.code = code;\n    _this.name = ERROR_NAME; // Fix For ES5\n    // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n\n    Object.setPrototypeOf(_this, FirebaseError.prototype); // Maintains proper stack trace for where our error was thrown.\n    // Only available on V8.\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_this, ErrorFactory.prototype.create);\n    }\n\n    return _this;\n  }\n\n  return FirebaseError;\n}(Error);\n\nvar ErrorFactory =\n/** @class */\nfunction () {\n  function ErrorFactory(service, serviceName, errors) {\n    this.service = service;\n    this.serviceName = serviceName;\n    this.errors = errors;\n  }\n\n  ErrorFactory.prototype.create = function (code, data) {\n    if (data === void 0) {\n      data = {};\n    }\n\n    var fullCode = this.service + \"/\" + code;\n    var template = this.errors[code];\n    var message = template ? replaceTemplate(template, data) : 'Error'; // Service Name: Error message (service/code).\n\n    var fullMessage = this.serviceName + \": \" + message + \" (\" + fullCode + \").\";\n    var error = new FirebaseError(fullCode, fullMessage); // Keys with an underscore at the end of their name are not included in\n    // error.data for some reason.\n    // TODO: Replace with Object.entries when lib is updated to es2017.\n\n    for (var _i = 0, _a = Object.keys(data); _i < _a.length; _i++) {\n      var key = _a[_i];\n\n      if (key.slice(-1) !== '_') {\n        if (key in error) {\n          console.warn(\"Overwriting FirebaseError base field \\\"\" + key + \"\\\" can cause unexpected behavior.\");\n        }\n\n        error[key] = data[key];\n      }\n    }\n\n    return error;\n  };\n\n  return ErrorFactory;\n}();\n\nfunction replaceTemplate(template, data) {\n  return template.replace(PATTERN, function (_, key) {\n    var value = data[key];\n    return value != null ? value.toString() : \"<\" + key + \"?>\";\n  });\n}\n\nvar PATTERN = /\\{\\$([^}]+)}/g;\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Evaluates a JSON string into a javascript object.\r\n *\r\n * @param {string} str A string containing JSON.\r\n * @return {*} The javascript object representing the specified JSON.\r\n */\n\nfunction jsonEval(str) {\n  return JSON.parse(str);\n}\n/**\r\n * Returns JSON representing a javascript object.\r\n * @param {*} data Javascript object to be stringified.\r\n * @return {string} The JSON contents of the object.\r\n */\n\n\nfunction stringify(data) {\n  return JSON.stringify(data);\n}\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Decodes a Firebase auth. token into constituent parts.\r\n *\r\n * Notes:\r\n * - May return with invalid / incomplete claims if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n *\r\n * @param {?string} token\r\n * @return {{header: *, claims: *, data: *, signature: string}}\r\n */\n\n\nvar decode = function decode(token) {\n  var header = {},\n      claims = {},\n      data = {},\n      signature = '';\n\n  try {\n    var parts = token.split('.');\n    header = jsonEval(base64Decode(parts[0]) || '');\n    claims = jsonEval(base64Decode(parts[1]) || '');\n    signature = parts[2];\n    data = claims['d'] || {};\n    delete claims['d'];\n  } catch (e) {}\n\n  return {\n    header: header,\n    claims: claims,\n    data: data,\n    signature: signature\n  };\n};\n/**\r\n * Decodes a Firebase auth. token and checks the validity of its time-based claims. Will return true if the\r\n * token is within the time window authorized by the 'nbf' (not-before) and 'iat' (issued-at) claims.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n *\r\n * @param {?string} token\r\n * @return {boolean}\r\n */\n\n\nvar isValidTimestamp = function isValidTimestamp(token) {\n  var claims = decode(token).claims,\n      now = Math.floor(new Date().getTime() / 1000),\n      validSince,\n      validUntil;\n\n  if (typeof claims === 'object') {\n    if (claims.hasOwnProperty('nbf')) {\n      validSince = claims['nbf'];\n    } else if (claims.hasOwnProperty('iat')) {\n      validSince = claims['iat'];\n    }\n\n    if (claims.hasOwnProperty('exp')) {\n      validUntil = claims['exp'];\n    } else {\n      // token will expire after 24h by default\n      validUntil = validSince + 86400;\n    }\n  }\n\n  return now && validSince && validUntil && now >= validSince && now <= validUntil;\n};\n/**\r\n * Decodes a Firebase auth. token and returns its issued at time if valid, null otherwise.\r\n *\r\n * Notes:\r\n * - May return null if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n *\r\n * @param {?string} token\r\n * @return {?number}\r\n */\n\n\nvar issuedAtTime = function issuedAtTime(token) {\n  var claims = decode(token).claims;\n\n  if (typeof claims === 'object' && claims.hasOwnProperty('iat')) {\n    return claims['iat'];\n  }\n\n  return null;\n};\n/**\r\n * Decodes a Firebase auth. token and checks the validity of its format. Expects a valid issued-at time.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n *\r\n * @param {?string} token\r\n * @return {boolean}\r\n */\n\n\nvar isValidFormat = function isValidFormat(token) {\n  var decoded = decode(token),\n      claims = decoded.claims;\n  return !!claims && typeof claims === 'object' && claims.hasOwnProperty('iat');\n};\n/**\r\n * Attempts to peer into an auth token and determine if it's an admin auth token by looking at the claims portion.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n *\r\n * @param {?string} token\r\n * @return {boolean}\r\n */\n\n\nvar isAdmin = function isAdmin(token) {\n  var claims = decode(token).claims;\n  return typeof claims === 'object' && claims['admin'] === true;\n};\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n// See http://www.devthought.com/2012/01/18/an-object-is-not-a-hash/\n\n\nvar contains = function contains(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n};\n\nvar safeGet = function safeGet(obj, key) {\n  if (Object.prototype.hasOwnProperty.call(obj, key)) return obj[key]; // else return undefined.\n};\n/**\r\n * Enumerates the keys/values in an object, excluding keys defined on the prototype.\r\n *\r\n * @param {?Object.<K,V>} obj Object to enumerate.\r\n * @param {!function(K, V)} fn Function to call for each key and value.\r\n * @template K,V\r\n */\n\n\nvar forEach = function forEach(obj, fn) {\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      fn(key, obj[key]);\n    }\n  }\n};\n/**\r\n * Copies all the (own) properties from one object to another.\r\n * @param {!Object} objTo\r\n * @param {!Object} objFrom\r\n * @return {!Object} objTo\r\n */\n\n\nvar extend = function extend(objTo, objFrom) {\n  forEach(objFrom, function (key, value) {\n    objTo[key] = value;\n  });\n  return objTo;\n};\n/**\r\n * Returns a clone of the specified object.\r\n * @param {!Object} obj\r\n * @return {!Object} cloned obj.\r\n */\n\n\nvar clone = function clone(obj) {\n  return extend({}, obj);\n};\n/**\r\n * Returns true if obj has typeof \"object\" and is not null.  Unlike goog.isObject(), does not return true\r\n * for functions.\r\n *\r\n * @param obj {*} A potential object.\r\n * @returns {boolean} True if it's an object.\r\n */\n\n\nvar isNonNullObject = function isNonNullObject(obj) {\n  return typeof obj === 'object' && obj !== null;\n};\n\nvar isEmpty = function isEmpty(obj) {\n  for (var key in obj) {\n    return false;\n  }\n\n  return true;\n};\n\nvar getCount = function getCount(obj) {\n  var rv = 0;\n\n  for (var key in obj) {\n    rv++;\n  }\n\n  return rv;\n};\n\nvar map = function map(obj, f, opt_obj) {\n  var res = {};\n\n  for (var key in obj) {\n    res[key] = f.call(opt_obj, obj[key], key, obj);\n  }\n\n  return res;\n};\n\nvar findKey = function findKey(obj, fn, opt_this) {\n  for (var key in obj) {\n    if (fn.call(opt_this, obj[key], key, obj)) {\n      return key;\n    }\n  }\n\n  return undefined;\n};\n\nvar findValue = function findValue(obj, fn, opt_this) {\n  var key = findKey(obj, fn, opt_this);\n  return key && obj[key];\n};\n\nvar getAnyKey = function getAnyKey(obj) {\n  for (var key in obj) {\n    return key;\n  }\n};\n\nvar getValues = function getValues(obj) {\n  var res = [];\n  var i = 0;\n\n  for (var key in obj) {\n    res[i++] = obj[key];\n  }\n\n  return res;\n};\n/**\r\n * Tests whether every key/value pair in an object pass the test implemented\r\n * by the provided function\r\n *\r\n * @param {?Object.<K,V>} obj Object to test.\r\n * @param {!function(K, V)} fn Function to call for each key and value.\r\n * @template K,V\r\n */\n\n\nvar every = function every(obj, fn) {\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      if (!fn(key, obj[key])) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n};\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Returns a querystring-formatted string (e.g. &arg=val&arg2=val2) from a params\r\n * object (e.g. {arg: 'val', arg2: 'val2'})\r\n * Note: You must prepend it with ? when adding it to a URL.\r\n *\r\n * @param {!Object} querystringParams\r\n * @return {string}\r\n */\n\n\nvar querystring = function querystring(querystringParams) {\n  var params = [];\n  forEach(querystringParams, function (key, value) {\n    if (Array.isArray(value)) {\n      value.forEach(function (arrayVal) {\n        params.push(encodeURIComponent(key) + '=' + encodeURIComponent(arrayVal));\n      });\n    } else {\n      params.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n    }\n  });\n  return params.length ? '&' + params.join('&') : '';\n};\n/**\r\n * Decodes a querystring (e.g. ?arg=val&arg2=val2) into a params object (e.g. {arg: 'val', arg2: 'val2'})\r\n *\r\n * @param {string} querystring\r\n * @return {!Object}\r\n */\n\n\nvar querystringDecode = function querystringDecode(querystring) {\n  var obj = {};\n  var tokens = querystring.replace(/^\\?/, '').split('&');\n  tokens.forEach(function (token) {\n    if (token) {\n      var key = token.split('=');\n      obj[key[0]] = key[1];\n    }\n  });\n  return obj;\n};\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * @fileoverview SHA-1 cryptographic hash.\r\n * Variable names follow the notation in FIPS PUB 180-3:\r\n * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.\r\n *\r\n * Usage:\r\n *   var sha1 = new sha1();\r\n *   sha1.update(bytes);\r\n *   var hash = sha1.digest();\r\n *\r\n * Performance:\r\n *   Chrome 23:   ~400 Mbit/s\r\n *   Firefox 16:  ~250 Mbit/s\r\n *\r\n */\n\n/**\r\n * SHA-1 cryptographic hash constructor.\r\n *\r\n * The properties declared here are discussed in the above algorithm document.\r\n * @constructor\r\n * @final\r\n * @struct\r\n */\n\n\nvar Sha1 =\n/** @class */\nfunction () {\n  function Sha1() {\n    /**\r\n     * Holds the previous values of accumulated variables a-e in the compress_\r\n     * function.\r\n     * @type {!Array<number>}\r\n     * @private\r\n     */\n    this.chain_ = [];\n    /**\r\n     * A buffer holding the partially computed hash result.\r\n     * @type {!Array<number>}\r\n     * @private\r\n     */\n\n    this.buf_ = [];\n    /**\r\n     * An array of 80 bytes, each a part of the message to be hashed.  Referred to\r\n     * as the message schedule in the docs.\r\n     * @type {!Array<number>}\r\n     * @private\r\n     */\n\n    this.W_ = [];\n    /**\r\n     * Contains data needed to pad messages less than 64 bytes.\r\n     * @type {!Array<number>}\r\n     * @private\r\n     */\n\n    this.pad_ = [];\n    /**\r\n     * @private {number}\r\n     */\n\n    this.inbuf_ = 0;\n    /**\r\n     * @private {number}\r\n     */\n\n    this.total_ = 0;\n    this.blockSize = 512 / 8;\n    this.pad_[0] = 128;\n\n    for (var i = 1; i < this.blockSize; ++i) {\n      this.pad_[i] = 0;\n    }\n\n    this.reset();\n  }\n\n  Sha1.prototype.reset = function () {\n    this.chain_[0] = 0x67452301;\n    this.chain_[1] = 0xefcdab89;\n    this.chain_[2] = 0x98badcfe;\n    this.chain_[3] = 0x10325476;\n    this.chain_[4] = 0xc3d2e1f0;\n    this.inbuf_ = 0;\n    this.total_ = 0;\n  };\n  /**\r\n   * Internal compress helper function.\r\n   * @param {!Array<number>|!Uint8Array|string} buf Block to compress.\r\n   * @param {number=} opt_offset Offset of the block in the buffer.\r\n   * @private\r\n   */\n\n\n  Sha1.prototype.compress_ = function (buf, opt_offset) {\n    if (!opt_offset) {\n      opt_offset = 0;\n    }\n\n    var W = this.W_; // get 16 big endian words\n\n    if (typeof buf === 'string') {\n      for (var i = 0; i < 16; i++) {\n        // TODO(user): [bug 8140122] Recent versions of Safari for Mac OS and iOS\n        // have a bug that turns the post-increment ++ operator into pre-increment\n        // during JIT compilation.  We have code that depends heavily on SHA-1 for\n        // correctness and which is affected by this bug, so I've removed all uses\n        // of post-increment ++ in which the result value is used.  We can revert\n        // this change once the Safari bug\n        // (https://bugs.webkit.org/show_bug.cgi?id=109036) has been fixed and\n        // most clients have been updated.\n        W[i] = buf.charCodeAt(opt_offset) << 24 | buf.charCodeAt(opt_offset + 1) << 16 | buf.charCodeAt(opt_offset + 2) << 8 | buf.charCodeAt(opt_offset + 3);\n        opt_offset += 4;\n      }\n    } else {\n      for (var i = 0; i < 16; i++) {\n        W[i] = buf[opt_offset] << 24 | buf[opt_offset + 1] << 16 | buf[opt_offset + 2] << 8 | buf[opt_offset + 3];\n        opt_offset += 4;\n      }\n    } // expand to 80 words\n\n\n    for (var i = 16; i < 80; i++) {\n      var t = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\n      W[i] = (t << 1 | t >>> 31) & 0xffffffff;\n    }\n\n    var a = this.chain_[0];\n    var b = this.chain_[1];\n    var c = this.chain_[2];\n    var d = this.chain_[3];\n    var e = this.chain_[4];\n    var f, k; // TODO(user): Try to unroll this loop to speed up the computation.\n\n    for (var i = 0; i < 80; i++) {\n      if (i < 40) {\n        if (i < 20) {\n          f = d ^ b & (c ^ d);\n          k = 0x5a827999;\n        } else {\n          f = b ^ c ^ d;\n          k = 0x6ed9eba1;\n        }\n      } else {\n        if (i < 60) {\n          f = b & c | d & (b | c);\n          k = 0x8f1bbcdc;\n        } else {\n          f = b ^ c ^ d;\n          k = 0xca62c1d6;\n        }\n      }\n\n      var t = (a << 5 | a >>> 27) + f + e + k + W[i] & 0xffffffff;\n      e = d;\n      d = c;\n      c = (b << 30 | b >>> 2) & 0xffffffff;\n      b = a;\n      a = t;\n    }\n\n    this.chain_[0] = this.chain_[0] + a & 0xffffffff;\n    this.chain_[1] = this.chain_[1] + b & 0xffffffff;\n    this.chain_[2] = this.chain_[2] + c & 0xffffffff;\n    this.chain_[3] = this.chain_[3] + d & 0xffffffff;\n    this.chain_[4] = this.chain_[4] + e & 0xffffffff;\n  };\n\n  Sha1.prototype.update = function (bytes, opt_length) {\n    // TODO(johnlenz): tighten the function signature and remove this check\n    if (bytes == null) {\n      return;\n    }\n\n    if (opt_length === undefined) {\n      opt_length = bytes.length;\n    }\n\n    var lengthMinusBlock = opt_length - this.blockSize;\n    var n = 0; // Using local instead of member variables gives ~5% speedup on Firefox 16.\n\n    var buf = this.buf_;\n    var inbuf = this.inbuf_; // The outer while loop should execute at most twice.\n\n    while (n < opt_length) {\n      // When we have no data in the block to top up, we can directly process the\n      // input buffer (assuming it contains sufficient data). This gives ~25%\n      // speedup on Chrome 23 and ~15% speedup on Firefox 16, but requires that\n      // the data is provided in large chunks (or in multiples of 64 bytes).\n      if (inbuf == 0) {\n        while (n <= lengthMinusBlock) {\n          this.compress_(bytes, n);\n          n += this.blockSize;\n        }\n      }\n\n      if (typeof bytes === 'string') {\n        while (n < opt_length) {\n          buf[inbuf] = bytes.charCodeAt(n);\n          ++inbuf;\n          ++n;\n\n          if (inbuf == this.blockSize) {\n            this.compress_(buf);\n            inbuf = 0; // Jump to the outer loop so we use the full-block optimization.\n\n            break;\n          }\n        }\n      } else {\n        while (n < opt_length) {\n          buf[inbuf] = bytes[n];\n          ++inbuf;\n          ++n;\n\n          if (inbuf == this.blockSize) {\n            this.compress_(buf);\n            inbuf = 0; // Jump to the outer loop so we use the full-block optimization.\n\n            break;\n          }\n        }\n      }\n    }\n\n    this.inbuf_ = inbuf;\n    this.total_ += opt_length;\n  };\n  /** @override */\n\n\n  Sha1.prototype.digest = function () {\n    var digest = [];\n    var totalBits = this.total_ * 8; // Add pad 0x80 0x00*.\n\n    if (this.inbuf_ < 56) {\n      this.update(this.pad_, 56 - this.inbuf_);\n    } else {\n      this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));\n    } // Add # bits.\n\n\n    for (var i = this.blockSize - 1; i >= 56; i--) {\n      this.buf_[i] = totalBits & 255;\n      totalBits /= 256; // Don't use bit-shifting here!\n    }\n\n    this.compress_(this.buf_);\n    var n = 0;\n\n    for (var i = 0; i < 5; i++) {\n      for (var j = 24; j >= 0; j -= 8) {\n        digest[n] = this.chain_[i] >> j & 255;\n        ++n;\n      }\n    }\n\n    return digest;\n  };\n\n  return Sha1;\n}();\n/**\r\n * Helper to make a Subscribe function (just like Promise helps make a\r\n * Thenable).\r\n *\r\n * @param executor Function which can make calls to a single Observer\r\n *     as a proxy.\r\n * @param onNoObservers Callback when count of Observers goes to zero.\r\n */\n\n\nfunction createSubscribe(executor, onNoObservers) {\n  var proxy = new ObserverProxy(executor, onNoObservers);\n  return proxy.subscribe.bind(proxy);\n}\n/**\r\n * Implement fan-out for any number of Observers attached via a subscribe\r\n * function.\r\n */\n\n\nvar ObserverProxy =\n/** @class */\nfunction () {\n  /**\r\n   * @param executor Function which can make calls to a single Observer\r\n   *     as a proxy.\r\n   * @param onNoObservers Callback when count of Observers goes to zero.\r\n   */\n  function ObserverProxy(executor, onNoObservers) {\n    var _this = this;\n\n    this.observers = [];\n    this.unsubscribes = [];\n    this.observerCount = 0; // Micro-task scheduling by calling task.then().\n\n    this.task = Promise.resolve();\n    this.finalized = false;\n    this.onNoObservers = onNoObservers; // Call the executor asynchronously so subscribers that are called\n    // synchronously after the creation of the subscribe function\n    // can still receive the very first value generated in the executor.\n\n    this.task.then(function () {\n      executor(_this);\n    })[\"catch\"](function (e) {\n      _this.error(e);\n    });\n  }\n\n  ObserverProxy.prototype.next = function (value) {\n    this.forEachObserver(function (observer) {\n      observer.next(value);\n    });\n  };\n\n  ObserverProxy.prototype.error = function (error) {\n    this.forEachObserver(function (observer) {\n      observer.error(error);\n    });\n    this.close(error);\n  };\n\n  ObserverProxy.prototype.complete = function () {\n    this.forEachObserver(function (observer) {\n      observer.complete();\n    });\n    this.close();\n  };\n  /**\r\n   * Subscribe function that can be used to add an Observer to the fan-out list.\r\n   *\r\n   * - We require that no event is sent to a subscriber sychronously to their\r\n   *   call to subscribe().\r\n   */\n\n\n  ObserverProxy.prototype.subscribe = function (nextOrObserver, error, complete) {\n    var _this = this;\n\n    var observer;\n\n    if (nextOrObserver === undefined && error === undefined && complete === undefined) {\n      throw new Error('Missing Observer.');\n    } // Assemble an Observer object when passed as callback functions.\n\n\n    if (implementsAnyMethods(nextOrObserver, ['next', 'error', 'complete'])) {\n      observer = nextOrObserver;\n    } else {\n      observer = {\n        next: nextOrObserver,\n        error: error,\n        complete: complete\n      };\n    }\n\n    if (observer.next === undefined) {\n      observer.next = noop;\n    }\n\n    if (observer.error === undefined) {\n      observer.error = noop;\n    }\n\n    if (observer.complete === undefined) {\n      observer.complete = noop;\n    }\n\n    var unsub = this.unsubscribeOne.bind(this, this.observers.length); // Attempt to subscribe to a terminated Observable - we\n    // just respond to the Observer with the final error or complete\n    // event.\n\n    if (this.finalized) {\n      this.task.then(function () {\n        try {\n          if (_this.finalError) {\n            observer.error(_this.finalError);\n          } else {\n            observer.complete();\n          }\n        } catch (e) {// nothing\n        }\n\n        return;\n      });\n    }\n\n    this.observers.push(observer);\n    return unsub;\n  }; // Unsubscribe is synchronous - we guarantee that no events are sent to\n  // any unsubscribed Observer.\n\n\n  ObserverProxy.prototype.unsubscribeOne = function (i) {\n    if (this.observers === undefined || this.observers[i] === undefined) {\n      return;\n    }\n\n    delete this.observers[i];\n    this.observerCount -= 1;\n\n    if (this.observerCount === 0 && this.onNoObservers !== undefined) {\n      this.onNoObservers(this);\n    }\n  };\n\n  ObserverProxy.prototype.forEachObserver = function (fn) {\n    if (this.finalized) {\n      // Already closed by previous event....just eat the additional values.\n      return;\n    } // Since sendOne calls asynchronously - there is no chance that\n    // this.observers will become undefined.\n\n\n    for (var i = 0; i < this.observers.length; i++) {\n      this.sendOne(i, fn);\n    }\n  }; // Call the Observer via one of it's callback function. We are careful to\n  // confirm that the observe has not been unsubscribed since this asynchronous\n  // function had been queued.\n\n\n  ObserverProxy.prototype.sendOne = function (i, fn) {\n    var _this = this; // Execute the callback asynchronously\n\n\n    this.task.then(function () {\n      if (_this.observers !== undefined && _this.observers[i] !== undefined) {\n        try {\n          fn(_this.observers[i]);\n        } catch (e) {\n          // Ignore exceptions raised in Observers or missing methods of an\n          // Observer.\n          // Log error to console. b/31404806\n          if (typeof console !== 'undefined' && console.error) {\n            console.error(e);\n          }\n        }\n      }\n    });\n  };\n\n  ObserverProxy.prototype.close = function (err) {\n    var _this = this;\n\n    if (this.finalized) {\n      return;\n    }\n\n    this.finalized = true;\n\n    if (err !== undefined) {\n      this.finalError = err;\n    } // Proxy is no longer needed - garbage collect references\n\n\n    this.task.then(function () {\n      _this.observers = undefined;\n      _this.onNoObservers = undefined;\n    });\n  };\n\n  return ObserverProxy;\n}();\n/** Turn synchronous function into one called asynchronously. */\n\n\nfunction async(fn, onError) {\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    Promise.resolve(true).then(function () {\n      fn.apply(void 0, args);\n    })[\"catch\"](function (error) {\n      if (onError) {\n        onError(error);\n      }\n    });\n  };\n}\n/**\r\n * Return true if the object passed in implements any of the named methods.\r\n */\n\n\nfunction implementsAnyMethods(obj, methods) {\n  if (typeof obj !== 'object' || obj === null) {\n    return false;\n  }\n\n  for (var _i = 0, methods_1 = methods; _i < methods_1.length; _i++) {\n    var method = methods_1[_i];\n\n    if (method in obj && typeof obj[method] === 'function') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction noop() {} // do nothing\n\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Check to make sure the appropriate number of arguments are provided for a public function.\r\n * Throws an error if it fails.\r\n *\r\n * @param {!string} fnName The function name\r\n * @param {!number} minCount The minimum number of arguments to allow for the function call\r\n * @param {!number} maxCount The maximum number of argument to allow for the function call\r\n * @param {!number} argCount The actual number of arguments provided.\r\n */\n\n\nvar validateArgCount = function validateArgCount(fnName, minCount, maxCount, argCount) {\n  var argError;\n\n  if (argCount < minCount) {\n    argError = 'at least ' + minCount;\n  } else if (argCount > maxCount) {\n    argError = maxCount === 0 ? 'none' : 'no more than ' + maxCount;\n  }\n\n  if (argError) {\n    var error = fnName + ' failed: Was called with ' + argCount + (argCount === 1 ? ' argument.' : ' arguments.') + ' Expects ' + argError + '.';\n    throw new Error(error);\n  }\n};\n/**\r\n * Generates a string to prefix an error message about failed argument validation\r\n *\r\n * @param {!string} fnName The function name\r\n * @param {!number} argumentNumber The index of the argument\r\n * @param {boolean} optional Whether or not the argument is optional\r\n * @return {!string} The prefix to add to the error thrown for validation.\r\n */\n\n\nfunction errorPrefix(fnName, argumentNumber, optional) {\n  var argName = '';\n\n  switch (argumentNumber) {\n    case 1:\n      argName = optional ? 'first' : 'First';\n      break;\n\n    case 2:\n      argName = optional ? 'second' : 'Second';\n      break;\n\n    case 3:\n      argName = optional ? 'third' : 'Third';\n      break;\n\n    case 4:\n      argName = optional ? 'fourth' : 'Fourth';\n      break;\n\n    default:\n      throw new Error('errorPrefix called with argumentNumber > 4.  Need to update it?');\n  }\n\n  var error = fnName + ' failed: ';\n  error += argName + ' argument ';\n  return error;\n}\n/**\r\n * @param {!string} fnName\r\n * @param {!number} argumentNumber\r\n * @param {!string} namespace\r\n * @param {boolean} optional\r\n */\n\n\nfunction validateNamespace(fnName, argumentNumber, namespace, optional) {\n  if (optional && !namespace) return;\n\n  if (typeof namespace !== 'string') {\n    //TODO: I should do more validation here. We only allow certain chars in namespaces.\n    throw new Error(errorPrefix(fnName, argumentNumber, optional) + 'must be a valid firebase namespace.');\n  }\n}\n\nfunction validateCallback(fnName, argumentNumber, callback, optional) {\n  if (optional && !callback) return;\n  if (typeof callback !== 'function') throw new Error(errorPrefix(fnName, argumentNumber, optional) + 'must be a valid function.');\n}\n\nfunction validateContextObject(fnName, argumentNumber, context, optional) {\n  if (optional && !context) return;\n  if (typeof context !== 'object' || context === null) throw new Error(errorPrefix(fnName, argumentNumber, optional) + 'must be a valid context object.');\n}\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n// Code originally came from goog.crypt.stringToUtf8ByteArray, but for some reason they\n// automatically replaced '\\r\\n' with '\\n', and they didn't handle surrogate pairs,\n// so it's been modified.\n// Note that not all Unicode characters appear as single characters in JavaScript strings.\n// fromCharCode returns the UTF-16 encoding of a character - so some Unicode characters\n// use 2 characters in Javascript.  All 4-byte UTF-8 characters begin with a first\n// character in the range 0xD800 - 0xDBFF (the first character of a so-called surrogate\n// pair).\n// See http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.3\n\n/**\r\n * @param {string} str\r\n * @return {Array}\r\n */\n\n\nvar stringToByteArray$1 = function stringToByteArray$1(str) {\n  var out = [],\n      p = 0;\n\n  for (var i = 0; i < str.length; i++) {\n    var c = str.charCodeAt(i); // Is this the lead surrogate in a surrogate pair?\n\n    if (c >= 0xd800 && c <= 0xdbff) {\n      var high = c - 0xd800; // the high 10 bits.\n\n      i++;\n      assert(i < str.length, 'Surrogate pair missing trail surrogate.');\n      var low = str.charCodeAt(i) - 0xdc00; // the low 10 bits.\n\n      c = 0x10000 + (high << 10) + low;\n    }\n\n    if (c < 128) {\n      out[p++] = c;\n    } else if (c < 2048) {\n      out[p++] = c >> 6 | 192;\n      out[p++] = c & 63 | 128;\n    } else if (c < 65536) {\n      out[p++] = c >> 12 | 224;\n      out[p++] = c >> 6 & 63 | 128;\n      out[p++] = c & 63 | 128;\n    } else {\n      out[p++] = c >> 18 | 240;\n      out[p++] = c >> 12 & 63 | 128;\n      out[p++] = c >> 6 & 63 | 128;\n      out[p++] = c & 63 | 128;\n    }\n  }\n\n  return out;\n};\n/**\r\n * Calculate length without actually converting; useful for doing cheaper validation.\r\n * @param {string} str\r\n * @return {number}\r\n */\n\n\nvar stringLength = function stringLength(str) {\n  var p = 0;\n\n  for (var i = 0; i < str.length; i++) {\n    var c = str.charCodeAt(i);\n\n    if (c < 128) {\n      p++;\n    } else if (c < 2048) {\n      p += 2;\n    } else if (c >= 0xd800 && c <= 0xdbff) {\n      // Lead surrogate of a surrogate pair.  The pair together will take 4 bytes to represent.\n      p += 4;\n      i++; // skip trail surrogate.\n    } else {\n      p += 3;\n    }\n  }\n\n  return p;\n};\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nexports.CONSTANTS = CONSTANTS;\nexports.Deferred = Deferred;\nexports.ErrorFactory = ErrorFactory;\nexports.FirebaseError = FirebaseError;\nexports.Sha1 = Sha1;\nexports.assert = assert;\nexports.assertionError = assertionError;\nexports.async = async;\nexports.base64 = base64;\nexports.base64Decode = base64Decode;\nexports.base64Encode = base64Encode;\nexports.clone = clone;\nexports.contains = contains;\nexports.createSubscribe = createSubscribe;\nexports.decode = decode;\nexports.deepCopy = deepCopy;\nexports.deepExtend = deepExtend;\nexports.errorPrefix = errorPrefix;\nexports.every = every;\nexports.extend = extend;\nexports.findKey = findKey;\nexports.findValue = findValue;\nexports.forEach = forEach;\nexports.getAnyKey = getAnyKey;\nexports.getCount = getCount;\nexports.getUA = getUA;\nexports.getValues = getValues;\nexports.isAdmin = isAdmin;\nexports.isEmpty = isEmpty;\nexports.isMobileCordova = isMobileCordova;\nexports.isNodeSdk = isNodeSdk;\nexports.isNonNullObject = isNonNullObject;\nexports.isReactNative = isReactNative;\nexports.isValidFormat = isValidFormat;\nexports.isValidTimestamp = isValidTimestamp;\nexports.issuedAtTime = issuedAtTime;\nexports.jsonEval = jsonEval;\nexports.map = map;\nexports.patchProperty = patchProperty;\nexports.querystring = querystring;\nexports.querystringDecode = querystringDecode;\nexports.safeGet = safeGet;\nexports.stringLength = stringLength;\nexports.stringToByteArray = stringToByteArray$1;\nexports.stringify = stringify;\nexports.validateArgCount = validateArgCount;\nexports.validateCallback = validateCallback;\nexports.validateContextObject = validateContextObject;\nexports.validateNamespace = validateNamespace;"],"sourceRoot":""}